<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>DK-RPG: Medieval</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/game.css">
    <link rel="stylesheet" href="css/battle_screen.css">
</head>
<body>

    <header id="top-bar">
        <h1>‚öúÔ∏è DK-RPG Legends ‚öúÔ∏è</h1>
        <div id="user-info-top" style="display: none;">
             <button onclick="logout()" class="logout-btn-top">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
        </div>
    </header>

    <div id="login-screen" class="screen-container">
        <div class="box">
            <h2>Gate of Heroes</h2>
            <p>‡πÇ‡∏õ‡∏£‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏î‡∏¥‡∏ô‡πÅ‡∏î‡∏ô</p>
            <br>
            <button class="google-btn" onclick="loginGoogle()">
                üõ°Ô∏è ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google
            </button>
        </div>
    </div>

    <div id="create-screen" class="screen-container" style="display:none;">
        <div class="box" style="max-width: 600px;">
            <h2>üìú ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πâ‡∏≤</h2>
            <div style="text-align: center; margin-bottom: 10px;">
                <img id="preview-img" src="" style="width: 100px; height: 100px; display: none;" class="char-portrait">
            </div>
            <p>‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô</p>
            <input type="text" id="hero-name" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£..." maxlength="12">
            <hr>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏¢‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>
            <div class="class-container">
                <div class="class-card" onclick="selectClass('knight')" id="card-knight">
                    <h3>‚öîÔ∏è ‡∏≠‡∏±‡∏®‡∏ß‡∏¥‡∏ô</h3><small>‡∏ñ‡∏∂‡∏Å‡∏ó‡∏ô / ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏´‡∏ô‡∏±‡∏Å</small>
                </div>
                <div class="class-card" onclick="selectClass('mage')" id="card-mage">
                    <h3>üîÆ ‡∏ô‡∏±‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå</h3><small>‡∏û‡∏•‡∏±‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå / ‡∏Æ‡∏µ‡∏•‡πÅ‡∏£‡∏á</small>
                </div>
                <div class="class-card" onclick="selectClass('rogue')" id="card-rogue">
                    <h3>üó°Ô∏è ‡πÇ‡∏à‡∏£</h3><small>‡∏ß‡πà‡∏≠‡∏á‡πÑ‡∏ß / ‡∏Ñ‡∏£‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏≠‡∏•</small>
                </div>
            </div>
            <div id="class-desc" style="color: #f1c40f; margin: 10px; font-style: italic;"></div>
            <div id="class-preview" style="display:none; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: left; padding-left: 20px;">
                    <span style="color:#e74c3c;">‚ù§Ô∏è HP: <b id="pre-hp">0</b></span>
                    <span style="color:#f39c12;">‚öîÔ∏è STR: <b id="pre-str">0</b></span>
                    <span style="color:#3498db;">üî• INT: <b id="pre-int">0</b></span>
                    <span style="color:#2ecc71;">üí® AGI: <b id="pre-agi">0</b></span>
                </div>
            </div>
            <button class="save-btn" onclick="confirmCreate()">‚ú® ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢</button>
        </div>
    </div>

    <div id="game-screen" style="display:none;">
        <div id="game-map-container">
            <img src="image/world_map.png" alt="World Map" id="world-map-img">

            <div class="map-zone" id="zone-train" onclick="startBattle('dummy', 'image/T_map.png')">
                <span class="zone-icon">‚öîÔ∏è</span>
                <span class="zone-label">‡∏•‡∏≤‡∏ô‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô</span>
            </div>
            <div class="map-zone" id="zone-quest" onclick="farm()">
                <span class="zone-icon">üìú</span>
                <span class="zone-label">‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</span>
            </div>

            <div class="map-zone" id="zone-shop" onclick="openShop()">
                <span class="zone-icon">üè™</span>
                <span class="zone-label">‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á</span>
            </div>

            <div id="char-status-panel" class="box" onclick="openProfile()" style="cursor: pointer;">
                <div class="hud-compact">
                    <img id="hero-img" src="" class="hud-avatar">
                    <div class="hud-info-compact">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <strong id="display-name" style="font-size:16px;">Hero</strong>
                            <span style="font-size:12px; color:#f1c40f;">Lv. <span id="lvl">1</span></span>
                        </div>
                        
                        <div class="bar-container">
                            <div id="hp-bar-fill" class="bar-fill hp"></div>
                            <span id="hp-text" class="bar-text">0/0</span>
                        </div>

                        <div class="bar-container" style="margin-top:2px;">
                            <div id="mp-bar-fill" class="bar-fill mp"></div>
                            <span id="mp-text" class="bar-text">0/0</span>
                        </div>

                        <div class="bar-container" style="margin-top:2px; border-color: #555;">
                            <div id="exp-bar-fill" class="bar-fill exp"></div>
                            <span id="exp-text" class="bar-text" style="font-size: 8px;">EXP 0%</span>
                        </div>
                        
                        <div style="text-align:right; font-size:12px; margin-top:2px; color:gold;">
                            üí∞ <span id="gold">0</span> G
                        </div>
                    </div>
                </div>
                <div style="text-align:center; font-size:10px; color:#aaa; margin-top:5px;">
                    (‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
                </div>
            </div> 

            <div class="hud-details">
                    <small>‡∏≠‡∏≤‡∏ä‡∏µ‡∏û: <span id="display-class">-</span></small>

                    <div style="display: flex; justify-content: space-between; text-align: left; font-size: 14px; margin-top: 5px;">
                        <div>
                            <p>‚ù§Ô∏è HP: <span id="hp">0</span>/<span id="maxHp">0</span></p>
                            <p>‚öîÔ∏è STR: <span id="str">0</span></p>
                        </div>
                        <div>
                            <p>üî• INT: <span id="int">0</span></p>
                            <p>üí® AGI: <span id="agi">0</span></p>
                        </div>
                    </div>

                    <p style="font-size: 14px; margin: 5px 0;">Lv: <span id="lvl">1</span> | ü™ô <span id="gold">0</span></p>
                    
                    <div style="margin-top: 10px;">
                        <button class="upgrade-btn-hud" onclick="openUpgradeModal()">
                            ‚ú® ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î (<span id="hud-points">0</span>)
                        </button>
                    </div>

                    <p id="status" style="font-size: 10px; margin: 0;"></p>
                </div>
            </div> 

            <button id="inventory-btn" onclick="openInventory()">
                üéí ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤
            </button>

            <button onclick="openSkillManager()" class="menu-btn" style="background:#8e44ad;">üìú ‡∏™‡∏Å‡∏¥‡∏•</button>

        </div> 
    </div>

    <div id="battle-screen" class="screen-container" style="display:none;">
        <div class="battle-top-bar">
            <div id="turn-badge" class="turn-badge player">YOUR TURN</div>
            
            <div class="timer-wrapper">
                <span>‚è≥</span>
                <div class="timer-bg"><div id="battle-timer-bar"></div></div>
                <span id="battle-timer-text">15</span>
            </div>
            
            </div>

        <div class="battle-arena">
            <div class="fighter-card player" onclick="openProfile()">
                <div class="fighter-avatar">
                    <img id="battle-player-img" src="image/knight.png">
                </div>
                <div class="fighter-info">
                    <div class="fighter-name" id="battle-player-name">Hero</div>
                    <div class="stat-bar-group">
                        <div class="mini-bar hp">
                            <div id="battle-player-hp" class="fill"></div>
                            <span id="battle-player-hp-text">100/100</span>
                        </div>
                        <div class="mini-bar mp">
                            <div id="battle-player-mp" class="fill"></div>
                            <span id="battle-player-mp-text">50/50</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="vs-badge">VS</div>

            <div class="fighter-card enemy">
                <div class="fighter-avatar">
                    <img id="battle-monster-img" src="image/dummy.png" alt="Monster">
                </div>

                <div class="fighter-info">
                    <div class="fighter-name" id="battle-monster-name">Monster</div>
                    <div class="stat-bar-group">
                        <div class="mini-bar hp">
                            <div id="battle-monster-hp" class="fill"></div>
                            <span id="battle-monster-hp-text">100/100</span>
                        </div>
                        <div class="mini-bar mp">
                            <div id="battle-monster-mp" class="fill"></div>
                            <span id="battle-monster-mp-text">50/50</span>
                        </div>
                    </div>
                    </div>

                <div id="battle-monster-buffs" class="monster-buff-row"></div>
            </div>
        </div>

        <div class="battle-log-area">
            <h3>Battle Log</h3>
            <div id="battle-log" class="log-content">
                <div class="log-entry">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ...</div>
            </div>
        </div>

        <div class="battle-controls">
            <div id="battle-buffs" class="buff-row"></div>

            <div class="action-panel">
                <button onclick="battleAction('attack')" class="action-btn attack-btn">
                    ‚öîÔ∏è<br>‡πÇ‡∏à‡∏°‡∏ï‡∏µ
                </button>

                <div id="battle-skills-grid" class="skills-grid"></div>

                <button class="bag-action-btn" onclick="openInventory()" title="‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤">
                    üéí
                </button>

                <button onclick="battleAction('run')" class="action-btn run-btn">
                    üèÉ<br>‡∏´‡∏ô‡∏µ
                </button>
            </div>
        </div>
    </div>

    <div id="custom-popup" class="modal-overlay" style="display: none; z-index: 3000;">
        <div class="modal-box box" style="width: 350px;">
            <h2 id="popup-title">‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h2>
            <p id="popup-message" style="margin: 15px 0; font-size: 16px;">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...</p>
            
            <input type="number" id="popup-input" class="qty-input" style="display: none; width: 80px; margin: 0 auto 15px auto; font-size: 18px;">
            
            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 15px;">
                <button id="popup-btn-cancel" class="reset-btn" style="display: none;">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button id="popup-btn-confirm" class="confirm-btn">‡∏ï‡∏Å‡∏•‡∏á</button>
            </div>
        </div>
    </div>

    <div id="inventory-modal" class="modal-overlay" style="display: none;">
        <div class="modal-box box" style="width: 850px; max-width: 95%;"> 
            <div class="modal-header">
                <h2>üéí ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ & ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤</h2>
                <button class="close-btn" onclick="closeInventory()">‚úñ</button>
            </div>
                <hr>
                    <div class="inventory-layout">
                        
                        <div class="equipment-panel">
                            <h3>‡∏™‡∏ß‡∏°‡πÉ‡∏™‡πà</h3>
                            <div id="equipment-grid" class="equipment-grid">
                                </div>
                            <div class="equipment-stats-summary">
                                </div>
                        </div>

                        <div class="bag-panel">
                            <h3>‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤</h3>
                            
                            <div class="shop-tabs" style="justify-content: flex-start; margin-bottom: 10px;">
                                <button class="shop-tab-btn active" onclick="switchInventoryTab('all')">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                                <button class="shop-tab-btn" onclick="switchInventoryTab('weapon')">‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò</button>
                                <button class="shop-tab-btn" onclick="switchInventoryTab('armor')">‡∏ä‡∏∏‡∏î‡πÄ‡∏Å‡∏£‡∏≤‡∏∞</button>
                                <button class="shop-tab-btn" onclick="switchInventoryTab('potion')">‡∏¢‡∏≤</button>
                                <button class="shop-tab-btn" onclick="switchInventoryTab('special')">‡∏û‡∏¥‡πÄ‡∏®‡∏©</button>
                                <button class="shop-tab-btn" onclick="switchInventoryTab('loot')">‡∏Ç‡∏¢‡∏∞</button>
                            </div>

                        <div id="inventory-grid" class="inventory-grid" style="height: 350px; overflow-y: auto;">
                            <p style="color: #ccc;">(‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤)</p>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    <div id="upgrade-modal" class="modal-overlay" style="display: none;">
                <div class="modal-box box">
                    <div class="modal-header">
                        <h2>‚ö° ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h2>
                        <button class="close-btn" onclick="closeUpgradeModal()">‚úñ</button> 
                    </div>
                    
                    <p>‡πÅ‡∏ï‡πâ‡∏°‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span id="modal-points" style="color: #f1c40f; font-size: 20px; font-weight: bold;">0</span></p>
                    <hr>

                    <div class="stat-row">
                        <span>‚öîÔ∏è STR (‡πÇ‡∏à‡∏°‡∏ï‡∏µ)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-str" class="minus-btn" onclick="removeTempStat('str')">-</button>
                            <b id="modal-str">0</b>
                            <button id="btn-plus-str" class="plus-btn" onclick="addTempStat('str')">+</button>
                        </div>
                    </div>

                    <div class="stat-row">
                        <span>üî• INT (‡πÄ‡∏ß‡∏ó‡∏¢‡πå)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-int" class="minus-btn" onclick="removeTempStat('int')">-</button>
                            <b id="modal-int">0</b>
                            <button id="btn-plus-int" class="plus-btn" onclick="addTempStat('int')">+</button>
                        </div>
                    </div>

                    <div class="stat-row">
                        <span>üí® AGI (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-agi" class="minus-btn" onclick="removeTempStat('agi')">-</button>
                            <b id="modal-agi">0</b>
                            <button id="btn-plus-agi" class="plus-btn" onclick="addTempStat('agi')">+</button>
                        </div>
                    </div>

                    <div class="stat-row">
                        <span>üõ°Ô∏è DEF (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-def" class="minus-btn" onclick="removeTempStat('def')">-</button>
                            <b id="modal-def">0</b>
                            <button id="btn-plus-def" class="plus-btn" onclick="addTempStat('def')">+</button>
                        </div>
                    </div>

                    <div class="stat-row">
                        <span>‚ù§Ô∏è Max HP (+10)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-hp" class="minus-btn" onclick="removeTempStat('hp')">-</button>
                            <b id="modal-maxHp">0</b>
                            <button id="btn-plus-hp" class="plus-btn" onclick="addTempStat('hp')">+</button>
                        </div>
                    </div>

                    <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
                        <button class="reset-btn" onclick="resetTempStats()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
                        <button class="confirm-btn" onclick="saveUpgrade()">üíæ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
                    </div>
                </div> 
    </div>

    <div id="profile-modal" class="modal-overlay" style="display: none;">
                <div class="modal-box box" style="width: 400px;">
                    <div class="modal-header">
                        <h2>üìú ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h2>
                        <button class="close-btn" onclick="closeProfile()">‚úñ</button>
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 15px;">
                        <img id="profile-img" src="" style="width: 80px; height: 80px; 
                                object-fit: cover; object-position: top 20%; 
                                border: 4px solid #d4af37; border-radius: 50%; 
                                background: radial-gradient(circle, #2e1e16, #000); 
                                box-shadow: 0 0 15px rgba(212, 175, 55, 0.6);">
                        <h3 id="profile-name" style="margin:5px 0; color:#f1c40f;">Name</h3>
                        <small id="profile-class" style="color:#ccc;">Class</small>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; text-align: left; background: rgba(0,0,0,0.2); padding: 15px 20px; border-radius: 8px; font-size: 14px;">
                        
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <span>‚ù§Ô∏è HP: <span id="profile-hp" style="color:#fff;">-</span></span>
                            <span>üíß MP: <span id="profile-mp" style="color:#fff;">-</span></span>
                            <span>‚öîÔ∏è STR: <span id="profile-str" style="color:#fff;">-</span></span>
                            <span>üõ°Ô∏è DEF: <span id="profile-def" style="color:#fff;">-</span></span> </div>

                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <span>üî• INT: <span id="profile-int" style="color:#fff;">-</span></span>
                            <span>üí® AGI: <span id="profile-agi" style="color:#fff;">-</span></span>
                            <span>‚öñÔ∏è ‡∏ô‡∏ô.: <span id="profile-weight" style="color:#fff;">-</span></span>
                        </div>

                    </div>

                    <div style="margin-top: 15px;">
                        <button class="upgrade-btn-hud" onclick="closeProfile(); openUpgradeModal();" style="width:100%;">
                            ‚ú® ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡∏™‡πÄ‡∏ï‡∏ï‡∏±‡∏™ (<span id="profile-points">0</span>)
                        </button>
                    </div>

                    <div style="margin-top: 15px; border-top: 1px solid #444; padding-top: 10px;">
                        <h4 style="margin: 0 0 5px 0; color:#aaa;">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Buffs)</h4>
                        <div id="buff-container" style="display: flex; gap: 5px; flex-wrap: wrap; min-height: 30px;">
                            </div>
                    </div>
                </div>
    </div>

    <div id="shop-modal" class="modal-overlay" style="display: none;">
                <div class="modal-box box" style="width: 400px;">
                    <div class="modal-header">
                        <h2>üè™ ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</h2>
                        <button class="close-btn" onclick="closeShop()">‚úñ</button>
                    </div>
                    
                    <div class="shop-mode-tabs">
                        <button id="mode-buy-btn" class="mode-btn active" onclick="setShopMode('buy')">üõí ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á</button>
                        <button id="mode-sell-btn" class="mode-btn" onclick="setShopMode('sell')">üí∞ ‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á</button>
                    </div>
                    
                    <p>‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô: <span id="shop-gold" style="color: gold;">0</span> G</p>
                    <hr>

                    <div id="shop-cat-tabs" class="shop-tabs">
                        <button class="shop-tab-btn active" onclick="switchShopTab('all')">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                        <button class="shop-tab-btn" onclick="switchShopTab('potion')">‡∏¢‡∏≤</button>
                        <button class="shop-tab-btn" onclick="switchShopTab('weapon')">‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò</button>
                        <button class="shop-tab-btn" onclick="switchShopTab('armor')">‡∏ä‡∏∏‡∏î‡πÄ‡∏Å‡∏£‡∏≤‡∏∞</button>
                        <button class="shop-tab-btn" onclick="switchShopTab('special')">‡∏û‡∏¥‡πÄ‡∏®‡∏©</button>
                        <button class="shop-tab-btn" onclick="switchShopTab('loot')">‡∏Ç‡∏¢‡∏∞</button>
                    </div>

                    <div id="shop-grid" class="shop-grid"></div>
                </div>
    </div>

    <div id="skill-modal" class="modal-overlay" style="display:none;">
        <div class="modal-box" style="width: 400px; max-height: 80vh; display:flex; flex-direction:column;">
            <div class="modal-header">
                <h2>üìú ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏Å‡∏¥‡∏•</h2>
                <button class="close-btn" onclick="closeSkillManager()">√ó</button>
            </div>
            
            <div style="background:rgba(0,0,0,0.3); padding:10px; margin-bottom:10px; border-radius:5px;">
                <div style="font-size:12px; color:#aaa; margin-bottom:5px;">‡∏™‡∏Å‡∏¥‡∏•‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (Battle Loadout)</div>
                <div id="skill-loadout-grid" style="display:grid; grid-template-columns: repeat(6, 1fr); gap:5px;">
                    </div>
            </div>

            <div id="skill-list-content" style="flex:1; overflow-y:auto; padding-right:5px;">
                </div>
        </div>
    </div>

    <div id="item-tooltip" class="custom-tooltip" style="display: none;"></div>

    <script type="module" src="js/index.js"></script>
    
</body>
</html>