<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>DK-RPG: Medieval</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>

    <header id="top-bar">
        <h1>‚öúÔ∏è DK-RPG Legends ‚öúÔ∏è</h1>
        <div id="user-info-top" style="display: none;">
             <button onclick="logout()" class="logout-btn-top">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
        </div>
    </header>

    <div id="login-screen" class="screen-container">
        <div class="box">
            <h2>Gate of Heroes</h2>
            <p>‡πÇ‡∏õ‡∏£‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏î‡∏¥‡∏ô‡πÅ‡∏î‡∏ô</p>
            <br>
            <button class="google-btn" onclick="loginGoogle()">
                üõ°Ô∏è ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google
            </button>
        </div>
    </div>

    <div id="create-screen" class="screen-container" style="display:none;">
        <div class="box" style="max-width: 600px;">
            <h2>üìú ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πâ‡∏≤</h2>
            <div style="text-align: center; margin-bottom: 10px;">
                <img id="preview-img" src="" style="width: 100px; height: 100px; display: none;" class="char-portrait">
            </div>
            <p>‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô</p>
            <input type="text" id="hero-name" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£..." maxlength="12">
            <hr>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏¢‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>
            <div class="class-container">
                <div class="class-card" onclick="selectClass('knight')" id="card-knight">
                    <h3>‚öîÔ∏è ‡∏≠‡∏±‡∏®‡∏ß‡∏¥‡∏ô</h3><small>‡∏ñ‡∏∂‡∏Å‡∏ó‡∏ô / ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏´‡∏ô‡∏±‡∏Å</small>
                </div>
                <div class="class-card" onclick="selectClass('mage')" id="card-mage">
                    <h3>üîÆ ‡∏ô‡∏±‡∏Å‡πÄ‡∏ß‡∏ó‡∏¢‡πå</h3><small>‡∏û‡∏•‡∏±‡∏á‡πÄ‡∏ß‡∏ó‡∏¢‡πå / ‡∏Æ‡∏µ‡∏•‡πÅ‡∏£‡∏á</small>
                </div>
                <div class="class-card" onclick="selectClass('rogue')" id="card-rogue">
                    <h3>üó°Ô∏è ‡πÇ‡∏à‡∏£</h3><small>‡∏ß‡πà‡∏≠‡∏á‡πÑ‡∏ß / ‡∏Ñ‡∏£‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏≠‡∏•</small>
                </div>
            </div>
            <div id="class-desc" style="color: #f1c40f; margin: 10px; font-style: italic;"></div>
            <div id="class-preview" style="display:none; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: left; padding-left: 20px;">
                    <span style="color:#e74c3c;">‚ù§Ô∏è HP: <b id="pre-hp">0</b></span>
                    <span style="color:#f39c12;">‚öîÔ∏è STR: <b id="pre-str">0</b></span>
                    <span style="color:#3498db;">üî• INT: <b id="pre-int">0</b></span>
                    <span style="color:#2ecc71;">üí® AGI: <b id="pre-agi">0</b></span>
                </div>
            </div>
            <button class="save-btn" onclick="confirmCreate()">‚ú® ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢</button>
        </div>
    </div>

    <div id="game-screen" style="display:none;">
        <div id="game-map-container">
            <img src="image/world_map.png" alt="World Map" id="world-map-img">

            <div class="map-zone" id="zone-train" onclick="train()">
                <span class="zone-icon">‚öîÔ∏è</span>
                <span class="zone-label">‡∏•‡∏≤‡∏ô‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô</span>
            </div>
            <div class="map-zone" id="zone-quest" onclick="farm()">
                <span class="zone-icon">üìú</span>
                <span class="zone-label">‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</span>
            </div>

            <div id="char-status-panel" class="box" onclick="toggleHUD()">
                
                <div class="hud-header">
                    <img id="hero-img" src="" class="hud-avatar">
                    <div class="hud-info">
                        <h2 id="display-name" class="hud-name">Hero</h2>
                        <div class="hp-bar-bg">
                            <div id="hp-bar-fill" class="hp-bar-fill" style="width: 100%;"></div>
                        </div>
                    </div>
                    <div class="toggle-icon">‚ñº</div>
                </div>

                <div class="hud-details">
                    <small>‡∏≠‡∏≤‡∏ä‡∏µ‡∏û: <span id="display-class">-</span></small>

                    <div style="display: flex; justify-content: space-between; text-align: left; font-size: 14px; margin-top: 5px;">
                        <div>
                            <p>‚ù§Ô∏è HP: <span id="hp">0</span>/<span id="maxHp">0</span></p>
                            <p>‚öîÔ∏è STR: <span id="str">0</span></p>
                        </div>
                        <div>
                            <p>üî• INT: <span id="int">0</span></p>
                            <p>üí® AGI: <span id="agi">0</span></p>
                        </div>
                    </div>

                    <p style="font-size: 14px; margin: 5px 0;">Lv: <span id="lvl">1</span> | ü™ô <span id="gold">0</span></p>
                    
                    <div style="margin-top: 10px;">
                        <button class="upgrade-btn-hud" onclick="openUpgradeModal()">
                            ‚ú® ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î (<span id="hud-points">0</span>)
                        </button>
                    </div>

                    <p id="status" style="font-size: 10px; margin: 0;"></p>
                </div>
            </div> 
            
            <div id="upgrade-modal" class="modal-overlay" style="display: none;">
                <div class="modal-box box">
                    <div class="modal-header">
                        <h2>‚ö° ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h2>
                        <button class="close-btn" onclick="closeUpgradeModal()">‚úñ</button>
                    </div>
                    
                    <p>‡πÅ‡∏ï‡πâ‡∏°‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span id="modal-points" style="color: #f1c40f; font-size: 20px; font-weight: bold;">0</span></p>
                    <hr>

                    <div class="stat-row">
                        <span>‚öîÔ∏è STR (‡πÇ‡∏à‡∏°‡∏ï‡∏µ)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-str" class="minus-btn" onclick="removeTempStat('str')">-</button>
                            <b id="modal-str">0</b>
                            <button id="btn-plus-str" class="plus-btn" onclick="addTempStat('str')">+</button>
                        </div>
                    </div>

                    <div class="stat-row">
                        <span>üî• INT (‡πÄ‡∏ß‡∏ó‡∏¢‡πå)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-int" class="minus-btn" onclick="removeTempStat('int')">-</button>
                            <b id="modal-int">0</b>
                            <button id="btn-plus-int" class="plus-btn" onclick="addTempStat('int')">+</button>
                        </div>
                    </div>

                    <div class="stat-row">
                        <span>üí® AGI (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-agi" class="minus-btn" onclick="removeTempStat('agi')">-</button>
                            <b id="modal-agi">0</b>
                            <button id="btn-plus-agi" class="plus-btn" onclick="addTempStat('agi')">+</button>
                        </div>
                    </div>

                    <div class="stat-row">
                        <span>‚ù§Ô∏è Max HP (+10)</span>
                        <div class="stat-controls">
                            <button id="btn-minus-hp" class="minus-btn" onclick="removeTempStat('hp')">-</button>
                            <b id="modal-maxHp">0</b>
                            <button id="btn-plus-hp" class="plus-btn" onclick="addTempStat('hp')">+</button>
                        </div>
                    </div>

                    <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
                        <button class="reset-btn" onclick="resetTempStats()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
                        <button class="confirm-btn" onclick="saveUpgrade()">üíæ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
                    </div>
                </div>
            <button id="inventory-btn" onclick="openInventory()">
                üéí ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤
            </button>

            <div id="inventory-modal" class="modal-overlay" style="display: none;">
                <div class="modal-box box" style="width: 350px;"> <div class="modal-header">
                        <h2>üéí ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏™‡∏±‡∏°‡∏†‡∏≤‡∏£‡∏∞</h2>
                        <button class="close-btn" onclick="closeInventory()">‚úñ</button>
                    </div>
                    <hr>
                    
                    <div id="inventory-grid" class="inventory-grid">
                        <p style="color: #ccc;">(‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤)</p>
                    </div>

                </div>
            </div>
        </div>
    </div> 
<script type="module" src="js/index.js"></script>
    
</body>
</html>